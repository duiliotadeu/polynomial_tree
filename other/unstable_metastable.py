def unstable_metastable(maximals, edges):
    maximals_copy = [set(maximal) for maximal in maximals]

    for i, maximal in enumerate(maximals_copy):
        maximal_copy = set(maximal.copy())
        unstable = 0
        stable = 1

        for element in maximal:
            if unstable == 1:
                continue

            edge_counter = 0

            for edge in edges[element - 1]:
                if unstable == 1:
                    continue

                if edge:
                    if edge_counter + 1 not in maximal:

                        valid = 1

                        new_maximal = maximal_copy - {element}

                        for element_new in new_maximal:
                            if edges[element_new-1][edge_counter]:
                                print(f'{element} -> {edge_counter + 1} - X', end=', ')
                                valid = 0

                        if valid == 1:
                            new_maximal.add(edge_counter + 1)

                            if new_maximal in maximals_copy:
                                print(f'{element} -> {edge_counter + 1} - V - X', end=', ')
                                stable = 0
                                valid = 0
                                
                            if valid == 1 :
                                print(f'{element} -> {edge_counter + 1} - V - V', end=', ')
                                unstable = 1
                                print(f'\n{maximal}: Instável\n')

                edge_counter += 1

        if not unstable:
            if stable:
                print(f'\n{maximal}: Estável\n')  
            else:
                print(f'\n{maximal}: Metaestável\n')            

edges = [
[0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
[1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
[1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1],
[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1],
[0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0],
]

maximals = [
{ 1, 2, 3, 4, 13, 16, 17, 20, },
{ 1, 2, 3, 4, 17, 20, 21, 24, },
{ 1, 2, 3, 4, 17, 21, 22, 24, },
{ 1, 2, 3, 4, 18, 19, 22, 23, },
{ 1, 2, 3, 4, 18, 21, 22, 23, },
{ 1, 2, 3, 4, 19, 22, 23, 24, },
{ 1, 2, 3, 4, 20, 21, 23, 24, },
{ 1, 2, 3, 4, 21, 22, 23, 24, },
{ 1, 2, 3, 6, 13, 16, 17, 20, },
{ 1, 2, 3, 6, 17, 20, 21, 24, },
{ 1, 2, 3, 6, 17, 21, 22, 24, },
{ 1, 2, 3, 6, 18, 19, 22, 23, },
{ 1, 2, 3, 6, 18, 21, 22, 23, },
{ 1, 2, 3, 6, 19, 22, 23, 24, },
{ 1, 2, 3, 6, 20, 21, 23, 24, },
{ 1, 2, 3, 6, 21, 22, 23, 24, },
{ 1, 2, 4, 5, 13, 15, 16, 20, },
{ 1, 2, 4, 5, 13, 15, 18, 22, },
{ 1, 2, 4, 5, 13, 16, 17, 20, },
{ 1, 2, 4, 5, 15, 18, 19, 22, },
{ 1, 2, 4, 5, 15, 19, 22, 24, },
{ 1, 2, 4, 5, 17, 20, 21, 24, },
{ 1, 2, 4, 5, 17, 21, 22, 24, },
{ 1, 2, 4, 5, 18, 19, 22, 23, },
{ 1, 2, 4, 5, 18, 21, 22, 23, },
{ 1, 2, 4, 5, 19, 22, 23, 24, },
{ 1, 2, 4, 5, 20, 21, 23, 24, },
{ 1, 2, 4, 5, 21, 22, 23, 24, },
{ 1, 3, 4, 8, 13, 14, 16, 17, },
{ 1, 3, 4, 8, 13, 16, 17, 20, },
{ 1, 3, 4, 8, 14, 16, 19, 23, },
{ 1, 3, 4, 8, 14, 18, 19, 23, },
{ 1, 3, 4, 8, 14, 18, 21, 23, },
{ 1, 3, 4, 8, 17, 20, 21, 24, },
{ 1, 3, 4, 8, 17, 21, 22, 24, },
{ 1, 3, 4, 8, 18, 19, 22, 23, },
{ 1, 3, 4, 8, 18, 21, 22, 23, },
{ 1, 3, 4, 8, 19, 22, 23, 24, },
{ 1, 3, 4, 8, 20, 21, 23, 24, },
{ 1, 3, 4, 8, 21, 22, 23, 24, },
{ 1, 3, 6, 10, 13, 14, 16, 17, },
{ 1, 3, 6, 10, 13, 16, 17, 20, },
{ 1, 3, 6, 10, 14, 16, 19, 23, },
{ 1, 3, 6, 10, 14, 18, 19, 23, },
{ 1, 3, 6, 10, 14, 18, 21, 23, },
{ 1, 3, 6, 10, 17, 20, 21, 24, },
{ 1, 3, 6, 10, 20, 21, 23, 24, },
{ 1, 4, 5, 8, 13, 14, 15, 16, },
{ 1, 4, 5, 8, 13, 14, 15, 18, },
{ 1, 4, 5, 8, 13, 14, 16, 17, },
{ 1, 4, 5, 8, 13, 15, 16, 20, },
{ 1, 4, 5, 8, 13, 15, 18, 22, },
{ 1, 4, 5, 8, 13, 16, 17, 20, },
{ 1, 4, 5, 8, 14, 15, 16, 19, },
{ 1, 4, 5, 8, 14, 15, 18, 19, },
{ 1, 4, 5, 8, 14, 16, 19, 23, },
{ 1, 4, 5, 8, 14, 18, 19, 23, },
{ 1, 4, 5, 8, 14, 18, 21, 23, },
{ 1, 4, 5, 8, 15, 18, 19, 22, },
{ 1, 4, 5, 8, 15, 19, 22, 24, },
{ 1, 4, 5, 8, 17, 20, 21, 24, },
{ 1, 4, 5, 8, 17, 21, 22, 24, },
{ 1, 4, 5, 8, 18, 19, 22, 23, },
{ 1, 4, 5, 8, 18, 21, 22, 23, },
{ 1, 4, 5, 8, 19, 22, 23, 24, },
{ 1, 4, 5, 8, 20, 21, 23, 24, },
{ 1, 4, 5, 8, 21, 22, 23, 24, },
{ 2, 3, 4, 7, 13, 16, 17, 20, },
{ 2, 3, 4, 7, 17, 20, 21, 24, },
{ 2, 3, 4, 7, 17, 21, 22, 24, },
{ 2, 3, 4, 7, 18, 19, 22, 23, },
{ 2, 3, 4, 7, 18, 21, 22, 23, },
{ 2, 3, 4, 7, 19, 22, 23, 24, },
{ 2, 3, 4, 7, 20, 21, 23, 24, },
{ 2, 3, 4, 7, 21, 22, 23, 24, },
{ 2, 3, 6, 7, 13, 16, 17, 20, },
{ 2, 3, 6, 7, 17, 20, 21, 24, },
{ 2, 3, 6, 7, 17, 21, 22, 24, },
{ 2, 3, 6, 7, 18, 19, 22, 23, },
{ 2, 3, 6, 7, 18, 21, 22, 23, },
{ 2, 3, 6, 7, 19, 22, 23, 24, },
{ 2, 3, 6, 7, 20, 21, 23, 24, },
{ 2, 3, 6, 7, 21, 22, 23, 24, },
{ 2, 4, 7, 11, 13, 15, 16, 20, },
{ 2, 4, 7, 11, 13, 15, 18, 22, },
{ 2, 4, 7, 11, 13, 16, 17, 20, },
{ 2, 4, 7, 11, 15, 18, 19, 22, },
{ 2, 4, 7, 11, 15, 19, 22, 24, },
{ 2, 4, 7, 11, 17, 20, 21, 24, },
{ 2, 4, 7, 11, 17, 21, 22, 24, },
{ 2, 6, 7, 11, 13, 15, 16, 20, },
{ 2, 6, 7, 11, 13, 15, 18, 22, },
{ 2, 6, 7, 11, 13, 16, 17, 20, },
{ 2, 6, 7, 11, 15, 18, 19, 22, },
{ 2, 6, 7, 11, 15, 19, 22, 24, },
{ 2, 6, 7, 11, 17, 20, 21, 24, },
{ 2, 6, 7, 11, 17, 21, 22, 24, },
{ 2, 6, 9, 11, 13, 15, 16, 20, },
{ 2, 6, 9, 11, 13, 15, 18, 22, },
{ 2, 6, 9, 11, 13, 16, 17, 20, },
{ 2, 6, 9, 11, 15, 18, 19, 22, },
{ 2, 6, 9, 11, 15, 19, 22, 24, },
{ 2, 6, 9, 11, 17, 20, 21, 24, },
{ 2, 6, 9, 11, 17, 21, 22, 24, },
{ 3, 6, 7, 10, 13, 14, 16, 17, },
{ 3, 6, 7, 10, 13, 16, 17, 20, },
{ 3, 6, 7, 10, 14, 16, 19, 23, },
{ 3, 6, 7, 10, 14, 18, 19, 23, },
{ 3, 6, 7, 10, 14, 18, 21, 23, },
{ 3, 6, 7, 10, 17, 20, 21, 24, },
{ 3, 6, 7, 10, 20, 21, 23, 24, },
{ 3, 7, 10, 12, 13, 14, 16, 17, },
{ 3, 7, 10, 12, 13, 16, 17, 20, },
{ 3, 7, 10, 12, 14, 16, 19, 23, },
{ 3, 7, 10, 12, 14, 18, 19, 23, },
{ 3, 7, 10, 12, 14, 18, 21, 23, },
{ 3, 7, 10, 12, 17, 20, 21, 24, },
{ 3, 7, 10, 12, 20, 21, 23, 24, },
{ 5, 8, 9, 12, 13, 14, 15, 16, },
{ 5, 8, 9, 12, 13, 14, 15, 18, },
{ 5, 8, 9, 12, 13, 14, 16, 17, },
{ 5, 8, 9, 12, 13, 15, 16, 20, },
{ 5, 8, 9, 12, 13, 15, 18, 22, },
{ 5, 8, 9, 12, 13, 16, 17, 20, },
{ 5, 8, 9, 12, 14, 15, 16, 19, },
{ 5, 8, 9, 12, 14, 15, 18, 19, },
{ 5, 8, 9, 12, 14, 16, 19, 23, },
{ 5, 8, 9, 12, 14, 18, 19, 23, },
{ 5, 8, 9, 12, 14, 18, 21, 23, },
{ 5, 8, 9, 12, 15, 18, 19, 22, },
{ 5, 8, 9, 12, 15, 19, 22, 24, },
{ 5, 8, 9, 12, 17, 20, 21, 24, },
{ 5, 8, 9, 12, 17, 21, 22, 24, },
{ 5, 8, 9, 12, 18, 19, 22, 23, },
{ 5, 8, 9, 12, 18, 21, 22, 23, },
{ 5, 8, 9, 12, 19, 22, 23, 24, },
{ 5, 8, 9, 12, 20, 21, 23, 24, },
{ 5, 8, 9, 12, 21, 22, 23, 24, },
{ 5, 9, 10, 12, 13, 14, 15, 16, },
{ 5, 9, 10, 12, 13, 14, 15, 18, },
{ 5, 9, 10, 12, 13, 14, 16, 17, },
{ 5, 9, 10, 12, 13, 15, 16, 20, },
{ 5, 9, 10, 12, 13, 16, 17, 20, },
{ 5, 9, 10, 12, 14, 15, 16, 19, },
{ 5, 9, 10, 12, 14, 15, 18, 19, },
{ 5, 9, 10, 12, 14, 16, 19, 23, },
{ 5, 9, 10, 12, 14, 18, 19, 23, },
{ 5, 9, 10, 12, 14, 18, 21, 23, },
{ 5, 9, 10, 12, 17, 20, 21, 24, },
{ 5, 9, 10, 12, 20, 21, 23, 24, },
{ 6, 7, 10, 11, 13, 14, 15, 16, },
{ 6, 7, 10, 11, 13, 14, 15, 18, },
{ 6, 7, 10, 11, 13, 14, 16, 17, },
{ 6, 7, 10, 11, 13, 15, 16, 20, },
{ 6, 7, 10, 11, 13, 16, 17, 20, },
{ 6, 7, 10, 11, 14, 15, 16, 19, },
{ 6, 7, 10, 11, 14, 15, 18, 19, },
{ 6, 7, 10, 11, 17, 20, 21, 24, },
{ 6, 9, 10, 11, 13, 14, 15, 16, },
{ 6, 9, 10, 11, 13, 14, 15, 18, },
{ 6, 9, 10, 11, 13, 14, 16, 17, },
{ 6, 9, 10, 11, 13, 15, 16, 20, },
{ 6, 9, 10, 11, 13, 16, 17, 20, },
{ 6, 9, 10, 11, 14, 15, 16, 19, },
{ 6, 9, 10, 11, 14, 15, 18, 19, },
{ 6, 9, 10, 11, 17, 20, 21, 24, },
{ 7, 10, 11, 12, 13, 14, 15, 16, },
{ 7, 10, 11, 12, 13, 14, 15, 18, },
{ 7, 10, 11, 12, 13, 14, 16, 17, },
{ 7, 10, 11, 12, 13, 15, 16, 20, },
{ 7, 10, 11, 12, 13, 16, 17, 20, },
{ 7, 10, 11, 12, 14, 15, 16, 19, },
{ 7, 10, 11, 12, 14, 15, 18, 19, },
{ 7, 10, 11, 12, 17, 20, 21, 24, },
{ 8, 9, 11, 12, 13, 14, 15, 16, },
{ 8, 9, 11, 12, 13, 14, 15, 18, },
{ 8, 9, 11, 12, 13, 14, 16, 17, },
{ 8, 9, 11, 12, 13, 15, 16, 20, },
{ 8, 9, 11, 12, 13, 15, 18, 22, },
{ 8, 9, 11, 12, 13, 16, 17, 20, },
{ 8, 9, 11, 12, 14, 15, 16, 19, },
{ 8, 9, 11, 12, 14, 15, 18, 19, },
{ 8, 9, 11, 12, 15, 18, 19, 22, },
{ 8, 9, 11, 12, 15, 19, 22, 24, },
{ 8, 9, 11, 12, 17, 20, 21, 24, },
{ 8, 9, 11, 12, 17, 21, 22, 24, },
{ 9, 10, 11, 12, 13, 14, 15, 16, },
{ 9, 10, 11, 12, 13, 14, 15, 18, },
{ 9, 10, 11, 12, 13, 14, 16, 17, },
{ 9, 10, 11, 12, 13, 15, 16, 20, },
{ 9, 10, 11, 12, 13, 16, 17, 20, },
{ 9, 10, 11, 12, 14, 15, 16, 19, },
{ 9, 10, 11, 12, 14, 15, 18, 19, },
{ 9, 10, 11, 12, 17, 20, 21, 24, },
]

unstable_metastable(maximals, edges)